# Figma元素结构数组获取规则

本文档梳理选中Figma元素后，生成结构数组时的核心规则，明确不同元素类型、子元素状态及类型对应的“排除”或“数据获取”逻辑，确保数组生成的准确性与规范性。

# 一、可处理的主体元素类型

以下三类元素作为选中主体时，执行相同的结构数组获取逻辑，其余元素作为选中主体时不处理。

- 画框（Frame）

- 组件（Component）

- 组件集（Component Set）

- 分组（Group）

# 二、主体元素的核心处理规则

## （一）主体元素自身命名规则

若主体为画框，其名称保持不变，不进行重命名操作。

## （二）子元素状态处理规则

子元素存在以下状态时，直接排除该元素及其所有子元素，不纳入结构数组。

1. **隐藏状态**：子元素处于隐藏模式，排除自身及所有嵌套子元素。

2. **蒙版状态**：子元素作为蒙版使用，排除自身及所有嵌套子元素。

3. **导出状态**：子元素设置了导出属性，排除自身及所有嵌套子元素。

## （三）子元素类型处理规则

针对不同类型的子元素，按以下规则判定是否获取数据及获取范围：

1. **组件/组件集**：排除该元素及其所有子元素，不纳入结构数组。

2. **画框**：获取该元素及其所有子元素的完整信息，纳入结构数组，递归遵循本规则。

3. **分组**：获取该元素及其所有子元素的完整信息，纳入结构数组，递归遵循本规则。

4. **实例（Instance）**：
        

    - 获取该元素及其所有子元素的完整信息，纳入结构数组；

    - 特殊规则：命名环节需排除该实例及其所有子元素，不参与命名处理。

5. **文本（Text）**：获取该元素的所有信息，完整纳入结构数组。

6. **所有矢量图形**：仅获取“基础数据”信息，纳入结构数组，不额外提取其他细节。

7. **媒体与嵌入式元素**：含图片填充、视频填充、GIF填充、小部件（Widget），仅获取“基础数据”信息，纳入结构数组。

8. **其他类型元素**：获取该元素的所有信息，完整纳入结构数组。

# 三、不可处理的主体元素

除“画框、组件、组件集、分组”外的其他元素（如单独的文本、矢量图形、媒体元素等），若作为选中主体，不执行结构数组获取操作。

# 四、基础数据定义

需获取“基础数据”时，包含以下核心字段：

- 元素类型

- 尺寸信息：长度、宽度

- 位置信息（基于父容器的坐标）

- 约束规则（自适应方式，如左对齐、宽高自适应等）

- 旋转角度

- 圆角属性（含独立角半径设置）

- 透明度

- 填充信息（颜色、渐变、填充模式等）

- 描边信息（颜色、粗细、样式、端点/转角设置等）

- 效果属性（阴影、模糊、发光等）
> （注：文档部分内容可能由 AI 生成）