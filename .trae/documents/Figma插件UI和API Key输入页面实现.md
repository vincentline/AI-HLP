# 实现计划

## 1. UI修改
- **关闭按钮样式**：将现有关闭按钮从`btn-secondary`改为大按钮浅色样式
- **添加API Key切换按钮**：在输入框下方添加一个与输入框同宽的深色大按钮，用于切换到API Key输入页面
- **创建API Key输入页面**：设计包含输入框、确定和返回按钮的API Key配置页面

## 2. 页面切换逻辑
- 实现主页面与API Key输入页面的切换功能
- 添加页面状态管理，用于跟踪当前显示的页面

## 3. API Key管理
- 在主逻辑中添加API Key的存储和管理功能
- 实现API Key的保存和读取机制

## 4. 火山API集成
- 更新AI服务调用逻辑，使用正确的火山API端点
- 按照提供的cURL格式构建API请求
- 修改请求头和请求体格式，适配火山API要求

## 5. 代码修改点
- `apps/figma-plugin/src/ui.html`：修改UI布局和样式，添加页面切换逻辑
- `apps/figma-plugin/src/main.ts`：更新AI服务调用逻辑，添加API Key管理

## 6. 技术要点
- 使用CSS类切换实现页面显示/隐藏
- 采用Figma插件的消息通信机制传递API Key
- 按照火山API文档格式构建请求
- 实现错误处理和用户反馈

## 7. 测试要点
- 验证页面切换功能正常
- 测试API Key保存和读取
- 验证火山API调用成功
- 确保命名功能正常工作

## 8. 预期效果
- 用户可以通过新按钮进入API Key配置页面
- 输入的API Key可以被正确保存和使用
- 插件可以成功调用火山AI模型进行自动命名
- UI样式符合用户要求，交互流畅